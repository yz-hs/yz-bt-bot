# Features

## 解析命令

一个消息由 3 部分组成：

- 主命令。
- 参数。
- 无关句。

比如下面是一个包含此三要素的消息：

```bash
$rep *9* #test# 测试
$rep是主命令，*9*、#test#是参数，“测试”及本行字是无关句。作用：分别打印9个test消息。
```

### 主命令

指开头是`$`的命令。所有主命令可在`getcmd.cpp`中查看。

### 参数

指由两个 特定字符 包裹的命令。

- `-XXX-`：自带参数。可在`getcmd.cpp`中查看。
- `*123*`：数字参数。在里面输入数字。
- `#hello#`：字符串参数。在里面输入字符串。

todo：实现自定义 特定字符 。

### 无关句

无关句会被忽略。

定义：

- 有 2 个及以上的主命令，则除最前面的都是无关句。
- 无关参数、不存在的主命令。
- 其他。

## 命令语法

语法比较自由。

如下面都是合法且等价的（一行一个）：

```bash
$rep *9* #test# 测试
$rep *9* #test#
$rep #test# *9* 参数可以调换顺序
*9* #test# $rep 主命令不一定在最前
$rep *9* $itisundefined #test# $itisundefined被忽略
$rep #test# *9* *9* #test# 最后的两个参数被忽略
$rep*9*#test#没空格也行！
$itisundefined$rep*9*测试#test#当然这样也是行的
```

特殊的，数字参数不能包含非数字字符，字符串参数中不能包含`#`字符。尽管不会报错。

## 彩蛋

~~自己发现！~~

## 自带参数的意义

- `-pause-`：将消息分割发送。
- `-help-`：打印主命令的帮助。
- `-read-`：`$run`命令保存输入。